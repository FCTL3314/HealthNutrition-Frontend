import{_ as B,j as V,B as F,l as x,c,m as P,c3 as C,o as s,a as d,w as i,H as y,b as k,d as a,u as E,K as D,t as o,f as m,h as w,C as p,g as M,F as T,x as W,p as j,i as A}from"./index-f9156b00.js";import{h as H}from"./moment-fbc5633a.js";import{W as R}from"./WrappedLoadingSpinner-f4d02455.js";import{E as J}from"./ErrorSection-6be8532e.js";import"./LoadingSpinner-ce5a1d0f.js";const N=l=>(j("data-v-61da3742"),l=l(),A(),l),K=["src"],O={class:"text-truncate font-large mb-0"},$={key:0,class:"text-secondary mb-0"},q=N(()=>a("h2",{class:"text-main font-big text-center"},"About",-1)),z={class:"font-medium mb-0 text-break"},G=N(()=>a("h2",{class:"text-main font-big"},"Account Information",-1)),Q={class:"list-group list-group-flush text-start"},X={class:"font-medium fw-semibold text-main-light text-truncate"},Y={class:"text-break font-standard mb-0"},Z={__name:"ProfileView",setup(l){const f=V(),S=F(),e=x(null),u=c(()=>S.getters["auth/user"]),_=t=>u.value?t===u.value?.slug:!1,v=x(!1),U=async t=>{try{return(await W.users.specificUser(t)).data}catch(r){r.response.status===404&&(v.value=!0),console.error(r.response)}};async function h(t){_(t)?e.value=u.value:e.value=await U(t)}const g=c(()=>{let t="";return e.value?.firstName&&(t+=e.value?.firstName),e.value?.lastName&&(t+=" "+e.value?.lastName),t}),L=c(()=>[{label:"Username",value:e.value?.username},{label:"First name",value:e.value?.firstName},{label:"Last name",value:e.value?.lastName},{label:"Email",value:_(f.params.userSlug)?e.value?.email:"Hidden"},{label:"Member since",value:H(e.value?.dateJoined).format("LLL")}]),b=()=>{e.value?.username?document.title=y(`${e.value.username}'s Profile`):document.title=y("Profile")};return P(async()=>await h(f.params.userSlug).then(()=>b())),C(async(t,r,n)=>{await h(t.params.userSlug).then(()=>b()),n()}),(t,r)=>v.value?(s(),d(J,{key:0,description:"Oops... Looks like this profile does not exist or has been deleted."})):(s(),d(R,{key:1,"is-loading":!e.value},{default:i(()=>[k(p,{class:"component-indentation-y text-center"},{default:i(()=>[a("img",{class:"rounded-circle object-fit-cover mb-3",src:E(D)(e.value),width:"210",height:"210",alt:"userImage"},null,8,K),a("h1",O,o(e.value.username),1),g.value?(s(),m("h3",$,o(g.value),1)):w("",!0)]),_:1}),e.value.profile.about?(s(),d(p,{key:0,class:"component-indentation-y"},{default:i(()=>[q,a("p",z,o(e.value.profile.about),1)]),_:1})):w("",!0),k(p,{class:"text-center"},{default:i(()=>[G,a("ul",Q,[(s(!0),m(T,null,M(L.value,(n,I)=>(s(),m("li",{key:I,class:"list-group-item"},[a("h3",X,o(n.label)+":Â  ",1),a("p",Y,o(n.value||"Not specified"),1)]))),128))])]),_:1})]),_:1},8,["is-loading"]))}},le=B(Z,[["__scopeId","data-v-61da3742"]]);export{le as default};
