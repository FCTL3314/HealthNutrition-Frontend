import{_ as k,c as S,r as B,o as s,a as v,w as h,b as d,d as a,e as I,t as _,f as u,F as y,g as w,n as G,u as E,N as R,h as x,C as F,p as V,i as $,j as q,k as O,l as m,m as j,q as N,s as L,v as P,x as W}from"./index-f9156b00.js";import{_ as D,P as U}from"./PaginationSection-6adbb9e9.js";import{C as z,a as M}from"./CommonCardWithImagePlaceholder-98e8d04f.js";import{E as Y}from"./ErrorSection-6be8532e.js";import{B as H}from"./BaseGreeting-16f3b885.js";import{c as J}from"./pagination-4fca349b.js";const K={class:"card-img-wrp"},X=["src"],Z={class:"card-body"},Q={class:"card-title font-standard text-main text-truncate"},ee={class:"card-text font-small"},ae={class:"list-group list-group-flush"},te={class:"fw-semibold"},se={__name:"CategoryCard",props:{category:{type:Object,required:!0},caloriesAvg:{type:Number},proteinAvg:{type:Number},fatAvg:{type:Number},carbsAvg:{type:Number}},setup(o){const e=o,n=S(()=>{const t=[];return e.caloriesAvg&&t.push({name:"Calories",value:e.caloriesAvg,colorClass:"text-warning",units:"kcal"}),e.proteinAvg&&t.push({name:"Protein",value:e.proteinAvg,colorClass:"text-success",units:"g."}),e.fatAvg&&t.push({name:"Fat",value:e.fatAvg,colorClass:"text-danger",units:"g."}),e.carbsAvg&&t.push({name:"Carbs",value:e.carbsAvg,colorClass:"text-primary",units:"g."}),t}),g={name:"products",params:{categorySlug:e.category.slug}};return(t,C)=>{const l=B("router-link");return s(),v(F,{class:"card common-rounding h-100"},{default:h(()=>[d(l,{to:g},{default:h(()=>[a("div",K,[a("img",{src:o.category.image,class:"card-img-responsive card-img-top object-fit-cover",alt:"category-image"},null,8,X)])]),_:1}),a("div",Z,[a("h5",Q,[d(l,{class:"link-main fw-semibold",to:g},{default:h(()=>[I(_(o.category.name),1)]),_:1})]),a("p",ee,_(o.category.description),1)]),a("ul",ae,[n.value.length?(s(!0),u(y,{key:0},w(n.value,(i,b)=>(s(),u("li",{key:b,class:G(["list-group-item centered-vertically",i.colorClass])},[d(z),I(" Â  "),a("span",te,_(i.name)+": "+_(i.value.toFixed(E(R)))+" "+_(i.units),1)],2))),128)):x("",!0)])]),_:1})}}},oe=k(se,[["__scopeId","data-v-a442688d"]]);const re=o=>(V("data-v-a9cf6397"),o=o(),$(),o),ce=re(()=>a("p",{class:"card-text placeholder-glow"},[a("span",{class:"placeholder col-7 bg-warning"}),a("span",{class:"placeholder col-6 bg-success"}),a("span",{class:"placeholder col-8 bg-danger"}),a("span",{class:"placeholder col-7 bg-primary"})],-1)),ne={__name:"CategoryCardPlaceholder",setup(o){return(e,n)=>(s(),v(M,null,{"card-bottom":h(()=>[ce]),_:1}))}},le=k(ne,[["__scopeId","data-v-a9cf6397"]]);const ie={__name:"CategoriesGreeting",setup(o){return(e,n)=>(s(),v(H,{title:"Categories Section",description:"Discover a wealth of topics in our Categories section, covering a spectrum of healthy living aspects. Simplify your exploration of the world of healthy choices and find valuable resources to support your journey toward a balanced and wholesome lifestyle."}))}},ue=k(ie,[["__scopeId","data-v-0490da4f"]]);const de={class:"component-indentation-y"},he={__name:"CategoriesView",setup(o){const e=q(),n=O(),g=m([]),t=m(!1),C=S(()=>!t.value&&!g.value.length),l=m(parseInt(e.query.page||1)),i=m(0);async function b(r=null){t.value=!0;try{return(await W.categories.categories(l.value,r||e.query.search)).data}catch(p){console.error(p.response)}finally{t.value=!1}}async function f(r=null){r&&(l.value=1,await N(n,e,{page:1}));const p=await b(r);p&&(g.value=p.results,i.value=J(p.count,P))}const A=m(null);async function T(r){l.value=r,await N(n,e,{page:r}),L(A.value),await f()}return j(async()=>{await f()}),(r,p)=>(s(),u(y,null,[d(ue,{class:"component-indentation-y"}),a("div",de,[d(D,{class:"mb-3","placeholder-text":"Enter a query, for example fruits...","show-clear-search-button":!t.value,onSearchInput:f,onClearSearch:f},null,8,["show-clear-search-button"]),a("div",{class:"row",ref_key:"categoriesWrapperElement",ref:A},[t.value?(s(!0),u(y,{key:1},w(E(P),c=>(s(),u("div",{key:c,class:"col-lg-4 col-md-6 mb-3"},[d(le)]))),128)):(s(!0),u(y,{key:0},w(g.value,c=>(s(),u("div",{key:c.id,class:"col-lg-4 col-md-6 mb-3 animate__animated animate__fadeIn"},[d(oe,{category:c,"calories-avg":c.caloriesAvg,"protein-avg":c.proteinAvg,"fat-avg":c.fatAvg,"carbs-avg":c.carbsAvg},null,8,["category","calories-avg","protein-avg","fat-avg","carbs-avg"])]))),128))],512),C.value?(s(),v(Y,{key:0,description:"Oops... Looks like we couldn't find any categories.","show-go-back-button":!1})):x("",!0),C.value?x("",!0):(s(),v(U,{key:1,"total-pages":i.value,"current-page":l.value,"is-disabled":t.value,onPageChanged:T},null,8,["total-pages","current-page","is-disabled"]))])],64))}};export{he as default};
