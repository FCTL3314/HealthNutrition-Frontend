import{l as V,M as _,c as C,r as $,o as U,f as S,b as t,w,C as E,d as o,y as n,I as i,u as e,n as d,e as F,L as M,x as k,bW as A,bY as T,D as B}from"./index-f9156b00.js";import{r as b,e as D,c as I,s as N,u as W,g as m,_ as c}from"./validation-6d9fc5a7.js";import{F as q}from"./FormFlushMessages-e49f94ad.js";import{_ as L}from"./SubmitButton-44f80f79.js";import{u as P,p as h}from"./vuelidate-12d13e6e.js";import{c as R}from"./particles-1ce637ad.js";const Y={class:"justify-content-center component-indentation-y"},j=["onSubmit"],z=o("h2",{class:"form-title text-center"},"Sign Up",-1),G={class:"mb-4"},H=o("label",{class:"form-label text-main"},"Username",-1),J={class:"mb-4"},K=o("label",{class:"form-label text-main"},"Email",-1),O={class:"mb-4"},Q=o("label",{class:"form-label text-main"},"Password",-1),X={class:"mb-4"},Z=o("label",{class:"form-label text-main"},"Password confirmation",-1),ee={class:"text-center mb-2"},se={class:"text-center"},oe={class:"mb-0"},ae=o("span",{class:"my-0 pe-1"},"Already registered ?",-1),ce={__name:"SignUpView",setup(te){const p=V(!1),u=_([]),l=_({username:"",email:"",password:"",passwordConfirmation:""}),g={username:{...P,required:b},email:{required:b,email:D},password:h,passwordConfirmation:{...h,sameAs:I.withMessage("The two password fields donâ€™t match",N(C(()=>l.password)))}},s=W(g,l);async function y(){R(),T.success("You have successfully registered!"),await B.push({name:"logIn"})}async function v(){p.value=!0,u.length=0;try{await k.users.register({username:l.username,email:l.email,password:l.password}),await y()}catch(f){u.push(...A(f.request.response)),console.error(f.response)}finally{p.value=!1,s.value.$reset()}}return(f,a)=>{const x=$("router-link");return U(),S("div",Y,[t(E,{class:"container col-lg-5 col-md-8 col-sm-10"},{default:w(()=>[o("form",{onSubmit:M(v,["prevent"])},[z,t(q,{"error-messages":u},null,8,["error-messages"]),o("div",G,[H,n(o("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>e(s).username.$model=r),type:"text",class:d(["form-control only-bottom-border",e(m)(e(s).username)]),placeholder:"Enter username"},null,2),[[i,e(s).username.$model]]),t(c,{field:e(s).username},null,8,["field"])]),o("div",J,[K,n(o("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>e(s).email.$model=r),type:"email",class:d(["form-control only-bottom-border",e(m)(e(s).email)]),placeholder:"Enter email"},null,2),[[i,e(s).email.$model]]),t(c,{field:e(s).email},null,8,["field"])]),o("div",O,[Q,n(o("input",{"onUpdate:modelValue":a[2]||(a[2]=r=>e(s).password.$model=r),type:"password",class:d(["form-control only-bottom-border",e(m)(e(s).password)]),placeholder:"Enter password"},null,2),[[i,e(s).password.$model]]),t(c,{field:e(s).password},null,8,["field"])]),o("div",X,[Z,n(o("input",{"onUpdate:modelValue":a[3]||(a[3]=r=>e(s).passwordConfirmation.$model=r),type:"password",class:d(["form-control only-bottom-border",e(m)(e(s).passwordConfirmation)]),placeholder:"Confirm password"},null,2),[[i,e(s).passwordConfirmation.$model]]),t(c,{field:e(s).passwordConfirmation},null,8,["field"])]),o("div",ee,[t(L,{text:"Sign Up","show-loading":p.value,"is-disabled":e(s).$invalid},null,8,["show-loading","is-disabled"])]),o("div",se,[o("p",oe,[ae,t(x,{to:{name:"logIn"},class:"link-primary text-decoration-none"},{default:w(()=>[F(" Login to your account ")]),_:1})])])],40,j)]),_:1})])}}};export{ce as default};
