import{l as b,L as i,o as g,a as v,w as y,u as s,x as h,bW as $,bX as x,d as r,y as u,G as c,n as w,b as m}from"./index-7efb46f9.js";import{u as V,g as p,_ as f}from"./validation-28a11ea6.js";import{_ as C}from"./BaseTab-24ae718e.js";import{p as _}from"./vuelidate-e63c576a.js";import"./FormFlushMessages-845db253.js";import"./SubmitButton-d26d9ed5.js";const k={class:"mb-4"},B=r("label",{for:"email",class:"form-label text-main"},"Current password",-1),E={class:"mb-4"},N=r("label",{class:"form-label text-main"},"New password",-1),z={__name:"PasswordTab",setup(T){const o=b(!1),t=i({currentPassword:"",newPassword:""}),e=V({currentPassword:_,newPassword:_},t),n=i([]);async function P(){o.value=!0,n.length=0;try{await h.users.setPassword({currentPassword:t.currentPassword,newPassword:t.newPassword}),$.success("Your password has been successfully changed.")}catch(l){n.push(...x(l.request.response)),console.log(l.request)}finally{e.value.$reset(),o.value=!1}}return(l,a)=>(g(),v(C,{"tab-name":"Password Settings",v$:s(e),"error-messages":n,"is-response-waiting":o.value,"form-submit-callback":P},{default:y(()=>[r("div",k,[B,u(r("input",{id:"password","onUpdate:modelValue":a[0]||(a[0]=d=>s(e).currentPassword.$model=d),type:"password",class:w(["form-control only-bottom-border",s(p)(s(e).currentPassword)]),placeholder:"Enter your current password"},null,2),[[c,s(e).currentPassword.$model]]),m(f,{field:s(e).currentPassword},null,8,["field"])]),r("div",E,[N,u(r("input",{"onUpdate:modelValue":a[1]||(a[1]=d=>s(e).newPassword.$model=d),type:"password",class:w(["form-control only-bottom-border",s(p)(s(e).newPassword)]),placeholder:"Enter new password"},null,2),[[c,s(e).newPassword.$model]]),m(f,{field:s(e).newPassword},null,8,["field"])])]),_:1},8,["v$","error-messages","is-response-waiting"]))}};export{z as default};
