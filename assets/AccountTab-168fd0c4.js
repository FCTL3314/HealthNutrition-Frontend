import{I as E,L as p,l as U,o as y,a as W,w as L,u as e,x,b$ as w,bX as I,bV as A,d as a,y as i,G as m,n as d,b as u,f as B,h as S,c0 as T,c1 as C,c2 as G}from"./index-ed4191d4.js";import{u as k,g as c,_ as f,m as h,a as g,b as D,d as M}from"./validation-0073c4ae.js";import{_ as R}from"./BaseTab-15f89642.js";import{u as F}from"./vuelidate-3ddaac3d.js";import"./FormFlushMessages-20ba5f65.js";import"./SubmitButton-96455fd5.js";const O={class:"mb-4"},X=a("label",{for:"username",class:"form-label text-main"}," Username ",-1),Y={class:"mb-4"},H=a("label",{for:"first_name",class:"form-label text-main"}," First Name ",-1),K={class:"mb-4"},P=a("label",{for:"last_name",class:"form-label text-main"},"Last Name",-1),j={class:"mb-4"},q={for:"email",class:"form-label"},z=a("span",{class:"text-main"},"Email",-1),J={key:0,class:"text-success"},Q=["value"],Z={class:"mb-4"},ee=a("label",{for:"image",class:"form-label text-main"},"Image",-1),ae={class:"input-group"},te=["accept"],se={class:"mb-4"},oe=a("label",{for:"about",class:"form-label text-main"},"About me",-1),le={class:"input-group"},ne={class:"mb-4"},re=a("label",{for:"first_name",class:"form-label text-main"}," Body Weight ",-1),be={__name:"AccountTab",setup(ie){const N=E(),n=p(N.getters["auth/user"]),_=U(!1),l=p({username:n.username,firstName:n.firstName,lastName:n.lastName,image:null,about:n.profile.about,bodyWeight:n.profile.bodyWeight}),v={username:F,firstName:{minLength:h(1),maxLength:g(150)},lastName:{minLength:h(1),maxLength:g(150)},about:{minLength:h(1),maxLength:g(516)},bodyWeight:{minValue:D(C),maxValue:M(G)}},t=k(v,l),V=r=>l.image=r.target.files[0],b=p([]);async function $(){_.value=!0,b.length=0;try{const r=(await x.users.update({username:l.username,first_name:l.firstName,last_name:l.lastName})).data,s=(await x.users.updateProfile({image:l.image,about:l.about,bodyWeight:l.bodyWeight})).data;await w(r,s),I.success("Your account data has been successfully updated.")}catch(r){b.push(...A(r.request.response)),console.error(r)}finally{t.value.$reset(),_.value=!1}}return(r,s)=>(y(),W(R,{"tab-name":"Account Settings","form-submit-callback":$,"is-response-waiting":_.value,"error-messages":b,v$:e(t)},{default:L(()=>[a("div",O,[X,i(a("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=o=>e(t).username.$model=o),class:d(["form-control only-bottom-border",e(c)(e(t).username)]),type:"text"},null,2),[[m,e(t).username.$model]]),u(f,{field:e(t).username},null,8,["field"])]),a("div",Y,[H,i(a("input",{id:"first_name","onUpdate:modelValue":s[1]||(s[1]=o=>e(t).firstName.$model=o),class:d(["form-control only-bottom-border",e(c)(e(t).firstName)]),type:"text",placeholder:"Enter your first name"},null,2),[[m,e(t).firstName.$model]]),u(f,{field:e(t).firstName},null,8,["field"])]),a("div",K,[P,i(a("input",{id:"last_name","onUpdate:modelValue":s[2]||(s[2]=o=>e(t).lastName.$model=o),class:d(["form-control only-bottom-border",e(c)(e(t).lastName)]),type:"text",placeholder:"Enter your last name"},null,2),[[m,e(t).lastName.$model]]),u(f,{field:e(t).lastName},null,8,["field"])]),a("div",j,[a("label",q,[z,n.isVerified?(y(),B("span",J," âœ“ Verified ")):S("",!0)]),a("input",{id:"email",class:"form-control only-bottom-border",type:"email",value:n.email,readonly:""},null,8,Q)]),a("div",Z,[ee,a("div",ae,[a("input",{id:"image",accept:e(T).join(", "),onChange:V,class:"form-control common-rounding shadow-none",type:"file","aria-label":"Upload"},null,40,te)])]),a("div",se,[oe,a("div",le,[i(a("textarea",{id:"about","onUpdate:modelValue":s[3]||(s[3]=o=>e(t).about.$model=o),class:d(["form-control only-bottom-border",e(c)(e(t).about)]),rows:"3",placeholder:"Tell a little about yourself"},null,2),[[m,e(t).about.$model]]),u(f,{field:e(t).about},null,8,["field"])])]),a("div",ne,[re,i(a("input",{id:"first_name","onUpdate:modelValue":s[4]||(s[4]=o=>e(t).bodyWeight.$model=o),class:d(["form-control only-bottom-border",e(c)(e(t).bodyWeight)]),type:"number",step:"0.5",placeholder:"Enter your body weight"},null,2),[[m,e(t).bodyWeight.$model]]),u(f,{field:e(t).bodyWeight},null,8,["field"])])]),_:1},8,["is-response-waiting","error-messages","v$"]))}};export{be as default};
